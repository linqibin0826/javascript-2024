<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Title</title>
</head>
<body>
<input type="checkbox" id="all"><span>全选</span>
<input class="sub" type="checkbox" name="item">
<input class="sub" type="checkbox" name="item">
<input class="sub" type="checkbox" name="item">

<script>
	const all = document.querySelector('#all')
	const subs = document.querySelectorAll('[name=item]')
	all.addEventListener('click', function (event) {
		for (let i = 0; i < subs.length; i++) {
			subs[i].checked = this.checked
		}
	})

	for (let i = 0; i < subs.length; i++) {
		subs[i].addEventListener('click', function () {
			if (subs[i].checked) {
				if (document.querySelectorAll('.sub:checked').length === subs.length) {
					all.checked = true
				}
			} else {
				all.checked = false
			}
		})
	}

</script>
</body>
</html>
